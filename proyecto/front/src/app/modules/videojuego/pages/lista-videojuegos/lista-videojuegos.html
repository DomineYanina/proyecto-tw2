<div class="videojuegos-pagina-wrapper">
<!-- El wrapper maneja el fondo degradado y la altura mínima (min-height: 100vh) -->

<div class="main-layout-grid">
    <!--
        1. FILTRO (Componente Hijo)
        La clase .filtro-sticky aplica position: sticky en el CSS de ListaVideojuegos.
    -->
    <videojuego-filter
        (apply)="onApply($event)"
        (clear)="onClear()"
        class="filtro-sticky">
    </videojuego-filter>

    <!--
        2. CONTENIDO PRINCIPAL (Título y Tarjetas)
    -->
    <div class="content-wrapper">
        <h2 class="titulo-listado">Lista de Videojuegos</h2>

        <div class="card-container">
            <p-card
            *ngFor="let videojuego of videojuegos"
            [header]="videojuego.nombre"
            styleClass="videojuego-card"
            >
            <ng-template pTemplate="header">
                <img
                    [src]="'/assets/portadas/' + videojuego.url_portada"
                    [alt]="'Portada de ' + videojuego.nombre"
                    class="videojuego-portada"
                >
            </ng-template>

            <ng-template pTemplate="content">
                <p class="descripcion-card">{{ videojuego.descripcion }}</p>
                <p>Precio: ${{ videojuego.precio }}</p>
                <p>Clasificación: {{ videojuego.clasificacion }}</p>
            </ng-template>

            <ng-template pTemplate="footer">
                <p-button class="ver-detalles-btn" label="Ver Detalles" icon="pi pi-search" (click)="verDetalles(videojuego.id)" [style]="{'background-color': 'transparent', 'border-color': 'transparent'}"></p-button>
            </ng-template>
            </p-card>
        </div>
    </div>
</div>


</div>
